{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dellp\\\\Documents\\\\Seminar Resources\\\\RakSquad Training Materials\\\\RakSquad Xurpas React\\\\xurpas-training-next\\\\pages\\\\blogform.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport * as blogActions from '../store/blogs/actions';\nimport Layout from \"../components/Layout\";\nimport TextInput from \"../components/TextInput\";\nimport { Button } from \"react-bootstrap\";\nimport Router from \"next/router\";\n\nclass BlogForm extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      selectedBlog: Object.assign({}, this.props.selectedBlog),\n      blogFormAction: this.props.blogFormAction\n    };\n    this.saveBlog = this.saveBlog.bind(this);\n    this.updateState = this.updateState.bind(this);\n  }\n\n  render() {\n    let blogFormAction = this.state.blogFormAction;\n    let isDisabled = false;\n\n    if (blogFormAction === 'view') {\n      isDisabled = true;\n    }\n\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, __jsx(TextInput, {\n      name: \"title\",\n      value: this.state.selectedBlog.title ? this.state.selectedBlog.title : \"\",\n      label: \"Title\",\n      onChange: this.updateState,\n      disabled: isDisabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }), __jsx(TextInput, {\n      name: \"description\",\n      value: this.state.selectedBlog.description ? this.state.selectedBlog.description : \"\",\n      label: \"Description\",\n      onChange: this.updateState,\n      disabled: isDisabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), blogFormAction !== 'view' ? __jsx(Button, {\n      variant: \"primary\",\n      onClick: this.saveBlog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Submit\") : \"\");\n  }\n\n  updateState(event) {\n    let field = event.target.name;\n    let selectedBlog = Object.assign({}, this.state.selectedBlog);\n    selectedBlog[field] = event.target.value;\n    return this.setState({\n      selectedBlog\n    });\n  }\n\n  saveBlog() {\n    if (this.state.blogFormAction === 'create') {\n      this.props.actions.createBlog(this.state.selectedBlog).then(() => {\n        Router.push(\"/\");\n      });\n    } else if (this.state.blogFormAction === 'edit') {}\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedBlog: state.blogs.selectedBlog,\n    blogFormAction: state.blogs.blogFormAction\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actions: bindActionCreators(Object.assign({}, blogActions), dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogForm);","map":{"version":3,"sources":["C:/Users/dellp/Documents/Seminar Resources/RakSquad Training Materials/RakSquad Xurpas React/xurpas-training-next/pages/blogform.js"],"names":["bindActionCreators","connect","blogActions","Layout","TextInput","Button","Router","BlogForm","React","Component","constructor","props","context","state","selectedBlog","Object","assign","blogFormAction","saveBlog","bind","updateState","render","isDisabled","title","description","event","field","target","name","value","setState","actions","createBlog","then","push","mapStateToProps","blogs","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as blogActions from '../store/blogs/actions';\r\nimport Layout from \"../components/Layout\";\r\nimport TextInput from \"../components/TextInput\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Router from \"next/router\";\r\nclass BlogForm extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            selectedBlog: Object.assign({}, this.props.selectedBlog),\r\n            blogFormAction: this.props.blogFormAction\r\n        }\r\n        this.saveBlog = this.saveBlog.bind(this);\r\n        this.updateState = this.updateState.bind(this);\r\n    }\r\n\r\n    render() {\r\n        let blogFormAction = this.state.blogFormAction;\r\n        let isDisabled = false;\r\n        if(blogFormAction === 'view') {\r\n            isDisabled = true;\r\n        }\r\n        return (\r\n          <Layout>\r\n              <TextInput\r\n              name=\"title\"\r\n              value={this.state.selectedBlog.title? this.state.selectedBlog.title: \"\"}\r\n              label=\"Title\"\r\n              onChange={this.updateState}\r\n              disabled= {isDisabled}\r\n              />\r\n             <TextInput\r\n              name=\"description\"\r\n              value={this.state.selectedBlog.description? this.state.selectedBlog.description: \"\"}\r\n              label=\"Description\"\r\n              onChange={this.updateState}\r\n              disabled= {isDisabled}\r\n              />\r\n\r\n              {blogFormAction !== 'view' ? <Button variant=\"primary\" onClick={this.saveBlog}>Submit</Button> : \"\"}\r\n          </Layout>   \r\n        )\r\n    }\r\n    updateState(event){\r\n        let field =  event.target.name;\r\n        let selectedBlog = Object.assign({}, this.state.selectedBlog);\r\n        selectedBlog[field] = event.target.value;\r\n        return this.setState({selectedBlog});\r\n    }\r\n\r\n    saveBlog() {\r\n        if(this.state.blogFormAction === 'create') {\r\n            this.props.actions.createBlog(this.state.selectedBlog)\r\n            .then(() => {\r\n                Router.push(\"/\")\r\n            });\r\n\r\n        } else if(this.state.blogFormAction === 'edit') {\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selectedBlog: state.blogs.selectedBlog,\r\n        blogFormAction: state.blogs.blogFormAction\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        actions: bindActionCreators(Object.assign({}, blogActions), dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogForm);"]},"metadata":{},"sourceType":"module"}
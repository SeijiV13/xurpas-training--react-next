{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\dellp\\\\Documents\\\\Seminar Resources\\\\RakSquad Training Materials\\\\RakSquad Xurpas React\\\\xurpas-training-next\\\\pages\\\\blogform.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport * as blogActions from '../store/blogs/actions';\nimport Layout from \"../components/Layout\";\nimport TextInput from \"../components/TextInput\";\nimport { Button } from \"react-bootstrap\";\nimport Router from \"next/router\";\n\nvar BlogForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(BlogForm, _React$Component);\n\n  function BlogForm(props, context) {\n    var _this;\n\n    _classCallCheck(this, BlogForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BlogForm).call(this, props, context));\n    _this.state = {\n      selectedBlog: _Object$assign({}, _this.props.selectedBlog),\n      blogFormAction: _this.props.blogFormAction\n    };\n    _this.saveBlog = _this.saveBlog.bind(_assertThisInitialized(_this));\n    _this.updateState = _this.updateState.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BlogForm, [{\n    key: \"render\",\n    value: function render() {\n      var blogFormAction = this.state.blogFormAction;\n      var isDisabled = false;\n\n      if (blogFormAction === 'view') {\n        isDisabled = true;\n      }\n\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, __jsx(TextInput, {\n        name: \"title\",\n        value: this.state.selectedBlog.title ? this.state.selectedBlog.title : \"\",\n        label: \"Title\",\n        onChange: this.updateState,\n        disabled: isDisabled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }), __jsx(TextInput, {\n        name: \"description\",\n        value: this.state.selectedBlog.description ? this.state.selectedBlog.description : \"\",\n        label: \"Description\",\n        onChange: this.updateState,\n        disabled: isDisabled,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), blogFormAction !== 'view' ? __jsx(Button, {\n        variant: \"primary\",\n        onClick: this.saveBlog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Submit\") : \"\");\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(event) {\n      var field = event.target.name;\n\n      var selectedBlog = _Object$assign({}, this.state.selectedBlog);\n\n      selectedBlog[field] = event.target.value;\n      return this.setState({\n        selectedBlog: selectedBlog\n      });\n    }\n  }, {\n    key: \"saveBlog\",\n    value: function saveBlog() {\n      if (this.state.blogFormAction === 'create') {\n        this.props.actions.createBlog(this.state.selectedBlog).then(function () {\n          Router.push(\"/\");\n        });\n      } else if (this.state.blogFormAction === 'edit') {}\n    }\n  }]);\n\n  return BlogForm;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selectedBlog: state.blogs.selectedBlog,\n    blogFormAction: state.blogs.blogFormAction\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(_Object$assign({}, blogActions), dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogForm);","map":{"version":3,"sources":["C:/Users/dellp/Documents/Seminar Resources/RakSquad Training Materials/RakSquad Xurpas React/xurpas-training-next/pages/blogform.js"],"names":["bindActionCreators","connect","blogActions","Layout","TextInput","Button","Router","BlogForm","props","context","state","selectedBlog","blogFormAction","saveBlog","bind","updateState","isDisabled","title","description","event","field","target","name","value","setState","actions","createBlog","then","push","React","Component","mapStateToProps","blogs","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as blogActions from '../store/blogs/actions';\r\nimport Layout from \"../components/Layout\";\r\nimport TextInput from \"../components/TextInput\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Router from \"next/router\";\r\nclass BlogForm extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            selectedBlog: Object.assign({}, this.props.selectedBlog),\r\n            blogFormAction: this.props.blogFormAction\r\n        }\r\n        this.saveBlog = this.saveBlog.bind(this);\r\n        this.updateState = this.updateState.bind(this);\r\n    }\r\n\r\n    render() {\r\n        let blogFormAction = this.state.blogFormAction;\r\n        let isDisabled = false;\r\n        if(blogFormAction === 'view') {\r\n            isDisabled = true;\r\n        }\r\n        return (\r\n          <Layout>\r\n              <TextInput\r\n              name=\"title\"\r\n              value={this.state.selectedBlog.title? this.state.selectedBlog.title: \"\"}\r\n              label=\"Title\"\r\n              onChange={this.updateState}\r\n              disabled= {isDisabled}\r\n              />\r\n             <TextInput\r\n              name=\"description\"\r\n              value={this.state.selectedBlog.description? this.state.selectedBlog.description: \"\"}\r\n              label=\"Description\"\r\n              onChange={this.updateState}\r\n              disabled= {isDisabled}\r\n              />\r\n\r\n              {blogFormAction !== 'view' ? <Button variant=\"primary\" onClick={this.saveBlog}>Submit</Button> : \"\"}\r\n          </Layout>   \r\n        )\r\n    }\r\n    updateState(event){\r\n        let field =  event.target.name;\r\n        let selectedBlog = Object.assign({}, this.state.selectedBlog);\r\n        selectedBlog[field] = event.target.value;\r\n        return this.setState({selectedBlog});\r\n    }\r\n\r\n    saveBlog() {\r\n        if(this.state.blogFormAction === 'create') {\r\n            this.props.actions.createBlog(this.state.selectedBlog)\r\n            .then(() => {\r\n                Router.push(\"/\")\r\n            })\r\n\r\n        } else if(this.state.blogFormAction === 'edit') {\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selectedBlog: state.blogs.selectedBlog,\r\n        blogFormAction: state.blogs.blogFormAction\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        actions: bindActionCreators(Object.assign({}, blogActions), dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogForm);"]},"metadata":{},"sourceType":"module"}